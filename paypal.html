<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Notepad - PayPal Sandbox Test</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body>
    <h1>Notepad — PayPal Sandbox Test</h1>
    <p>Test product: Notepad Pro (one-time)</p>
    <p>Price: £2.50</p>

    <div id="paypal-button-container"></div>

    <!-- PayPal SDK: replace client-id with your SANDBOX client id -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_SANDBOX_CLIENT_ID&currency=GBP"></script>

    <script>
      // Create the order and capture immediately (client-side)
      paypal.Buttons({
        style: {
          layout: 'vertical',
          color:  'gold',
          shape:  'rect',
          label:  'paypal'
        },
        createOrder: function(data, actions) {
          return actions.order.create({
            purchase_units: [{
              amount: {
                value: '2.50',
                currency_code: 'GBP'
              },
              description: 'Notepad Pro - one-time'
            }]
          });
        },
        onApprove: function(data, actions) {
          // Capture the funds from the transaction
          return actions.order.capture().then(function(details) {
            // Show a success message to the buyer
            alert('Payment completed by ' + details.payer.name.given_name + ' — ORDER ID: ' + details.id);
            console.log('Capture details:', details);
            // TODO: optionally send details.id and details to your server for record-keeping
          });
        },
        onError: function(err) {
          console.error('PayPal Buttons error', err);
          alert('PayPal error — check console for details');
        }
      }).render('#paypal-button-container');
    </script>
  </body>
</html>
